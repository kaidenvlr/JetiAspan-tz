# JetiAspan-tz

# Тестовое задание “Города”

## Описание задачи

Необходимо создать Django проект, который предоставляет API для получения списка товаров с ссылками на фото.

### Требования
1. **Эндпоинт**: `/api/products/` должен возвращать список товаров с ссылками на их фотографии.
2. **Views**: Реализовать на основе класса `APIView`.
3. **Фото товаров**: 
   - Количество фото может быть различным для каждого товара.
   - Фото могут быть уникальны для каждого города.
   - У каждого товара минимум одно фото, актуальное для всех городов.
4. **Запрос**:
   - ID города передается в заголовке запроса.
   - Если у товара есть фото для запрашиваемого города, то возвращаются только они, игнорируя фото для всех городов.
   - Если у товара нет фото для запрашиваемого города, то возвращаются фото, актуальные для всех городов.

### Документация API

**Эндпоинт**: `/api/products/<int:city_id>/`

**Метод**: GET

**Заголовки**:
- `city_id`: ID города (обязательный)

**Ответ**:
- Успешный ответ (200 OK):
  ```json
  [
    {
      "id": 1,
      "name": "Product 1",
      "price": "123",
      "images": [
        "media/products/image1.jpg",
        "media/products/image2.jpg",
        "media/products/image3.jpg",
      ],
      "created_at": "2024-07-31T15:25:37.269Z",
      "modified_at": "2024-07-31T15:25:37.269Z"
    }
    {
      "id": 2,
      "name": "Product 2",
      "price": "456",
      "images": [
        "media/products/image4.jpg",
        "media/products/image5.jpg",
        "media/products/image6.jpg",
      ],
      "created_at": "2024-07-31T15:25:37.269Z",
      "modified_at": "2024-07-31T15:25:37.269Z"
    }
  ]